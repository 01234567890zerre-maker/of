import discord
from discord.ext import commands
import math
import os

TOKEN = os.getenv("TOKEN")

intents = discord.Intents.default()
intents.message_content = True
bot = commands.Bot(command_prefix="!", intents=intents)

# Claim listesi
worlds = {
    "girit": [   # k√º√ß√ºk harf yaptƒ±m e≈üle≈üme kolay olsun diye
{"claim": 1, "x": 33088, "y": 12256},
{"claim": 2, "x": -12512, "y": -5696},
{"claim": 3, "x": 23808, "y": -15216},
{"claim": 4, "x": -10016, "y": -23776},
{"claim": 5, "x": 14016, "y": 5904},
{"claim": 6, "x": -8944, "y": -9984},
{"claim": 7, "x": -11184, "y": -26864},
{"claim": 8, "x": 9280, "y": -4976},
{"claim": 9, "x": 27936, "y": -26080},
{"claim": 10, "x": 672, "y": 17168},
{"claim": 11, "x": -20656, "y": -16704},
{"claim": 12, "x": -4800, "y": 26960},
{"claim": 13, "x": -80, "y": -14752},
{"claim": 14, "x": -28464, "y": -15600},
{"claim": 15, "x": 11600, "y": -6000},
{"claim": 16, "x": -13200, "y": -21840},
{"claim": 17, "x": 24144, "y": -8048},
{"claim": 18, "x": -20656, "y": -20176},
{"claim": 19, "x": 28400, "y": -5920},
{"claim": 20, "x": -26064, "y": 9024},
{"claim": 21, "x": 3328, "y": -9696},
{"claim": 22, "x": -24032, "y": 22122},
{"claim": 23, "x": 9040, "y": 25968},
{"claim": 24, "x": 27488, "y": -25136},
{"claim": 25, "x": -27296, "y": 28112},
{"claim": 26, "x": 3632, "y": -24560},
{"claim": 27, "x": -9008, "y": 19312},
{"claim": 28, "x": 25872, "y": -16144},
{"claim": 29, "x": 8464, "y": -6864},
{"claim": 30, "x": -9360, "y": 8864},
{"claim": 31, "x": -1664, "y": 22224},
{"claim": 32, "x": 18364, "y": 23600},
{"claim": 33, "x": 25760, "y": -23136},
{"claim": 34, "x": 1744, "y": 4288},
{"claim": 35, "x": 0, "y": 20640},
{"claim": 36, "x": -23690, "y": 6720},
{"claim": 37, "x": 28032, "y": 11344},
{"claim": 38, "x": 24928, "y": 26464},
{"claim": 39, "x": 7520, "y": 18624},
{"claim": 40, "x": -448, "y": 19448},
{"claim": 41, "x": 13624, "y": 2720},
{"claim": 42, "x": -19024, "y": -18912},
{"claim": 43, "x": -24784, "y": -21952},
{"claim": 44, "x": -24720, "y": 18096},
{"claim": 45, "x": 2304, "y": -15728},
{"claim": 46, "x": -5900, "y": 13456},
{"claim": 47, "x": -7232, "y": 144},
{"claim": 48, "x": -7050, "y": -3750},
{"claim": 49, "x": 4550, "y": 480},
{"claim": 50, "x": -672, "y": 13632},
{"claim": 51, "x": -23024, "y": 28464},
{"claim": 52, "x": 8160, "y": 11984},
{"claim": 53, "x": 7008, "y": -14672},
{"claim": 54, "x": 23024, "y": 23472},
{"claim": 55, "x": -4768, "y": 27808},
{"claim": 56, "x": -6656, "y": -21056},
{"claim": 57, "x": 13856, "y": 5040},
{"claim": 58, "x": -6992, "y": -4888},
{"claim": 59, "x": -10416, "y": 23744},
{"claim": 60, "x": -19648, "y": 19008},
{"claim": 61, "x": 8992, "y": -14320},
{"claim": 62, "x": 21328, "y": 19488},
{"claim": 63, "x": -22528, "y": 9392},
{"claim": 64, "x": -12368, "y": -23999},
{"claim": 65, "x": -14816, "y": 4880},
{"claim": 66, "x": 7500, "y": -3000},
{"claim": 67, "x": 12304, "y": 18528},
{"claim": 68, "x": 3152, "y": 2208},
{"claim": 69, "x": 17904, "y": -23400},
{"claim": 70, "x": 5904, "y": -15264},
{"claim": 71, "x": 8816, "y": 19472},
{"claim": 72, "x": -12544, "y": -3568},
{"claim": 73, "x": 2768, "y": -18384},
{"claim": 74, "x": -22032, "y": -8000},
{"claim": 75, "x": -2864, "y": 19296},
{"claim": 76, "x": -28160, "y": -13280},
{"claim": 77, "x": 26640, "y": 2144},
{"claim": 78, "x": 432, "y": -21456},
{"claim": 79, "x": 15088, "y": 9472},
{"claim": 80, "x": -20416, "y": 24352},
{"claim": 81, "x": -5616, "y": -5184},
{"claim": 82, "x": 5920, "y": -7376},
{"claim": 83, "x": -8592, "y": 1040},
{"claim": 84, "x": 8272, "y": -15950},
{"claim": 85, "x": 992, "y": -19344},
{"claim": 86, "x": -17000, "y": 19000},
{"claim": 87, "x": -27616, "y": -21760},
{"claim": 88, "x": -23456, "y": -1888},
{"claim": 89, "x": -5250, "y": -28208},
{"claim": 90, "x": 4912, "y": 6736},
{"claim": 91, "x": -2008, "y": 14416},
{"claim": 92, "x": 9216, "y": -13520},
{"claim": 93, "x": -3440, "y": 20192},
{"claim": 94, "x": -26048, "y": -20032},
{"claim": 95, "x": 22016, "y": 23808},
{"claim": 96, "x": 15120, "y": -27296},
{"claim": 97, "x": -10480, "y": 20528},
{"claim": 98, "x": -9584, "y": 3488},
{"claim": 99, "x": -4496, "y": -25888},
{"claim": 100, "x": 11120, "y": -9104},
{"claim": 101, "x": 25984, "y": 10848},
{"claim": 102, "x": -17344, "y": -1824},
{"claim": 103, "x": 10464, "y": -21536},
{"claim": 104, "x": 6496, "y": 12112},
{"claim": 105, "x": 7584, "y": 7968},
{"claim": 106, "x": 1568, "y": -10060},
{"claim": 107, "x": -6656, "y": 2912},
{"claim": 108, "x": -9146, "y": 13280},
{"claim": 109, "x": -18256, "y": -4832},
{"claim": 110, "x": 14960, "y": 2304},
{"claim": 111, "x": 7856, "y": -17936},
{"claim": 112, "x": -16144, "y": 368},
{"claim": 113, "x": -22544, "y": -13392},
{"claim": 114, "x": 6256, "y": 16208},
{"claim": 115, "x": 5712, "y": 17696},
{"claim": 116, "x": -7328, "y": 1008},
{"claim": 117, "x": -26896, "y": -28288},
{"claim": 118, "x": 12384, "y": -25856},
{"claim": 119, "x": -22128, "y": -13552},
{"claim": 120, "x": -24448, "y": 21952},
{"claim": 121, "x": -288, "y": 19760},
{"claim": 122, "x": -3632, "y": 24608},
{"claim": 123, "x": -25424, "y": 24432},
{"claim": 124, "x": 15696, "y": -4640},
{"claim": 125, "x": -2272, "y": -15872},
{"claim": 126, "x": 25520, "y": -10256},
{"claim": 127, "x": -6096, "y": 13616},
{"claim": 128, "x": -464, "y": -700},
{"claim": 129, "x": 8240, "y": -2656},
{"claim": 130, "x": -22096, "y": -22064},
{"claim": 131, "x": -21040, "y": -24320},
{"claim": 132, "x": 20912, "y": -24448},
{"claim": 133, "x": -22496, "y": 10528},
{"claim": 134, "x": -223, "y": -4336},
{"claim": 135, "x": -14192, "y": 12336},
{"claim": 136, "x": 8912, "y": 28960},
{"claim": 137, "x": -16448, "y": 9008},
{"claim": 138, "x": -10016, "y": -304},
{"claim": 139, "x": -14240, "y": -1488},
{"claim": 140, "x": -9424, "y": 5744},
{"claim": 141, "x": -96, "y": -864},
{"claim": 142, "x": -96, "y": 24080},
{"claim": 143, "x": -27440, "y": -13536},
{"claim": 144, "x": 1520, "y": -17280},
{"claim": 145, "x": 16704, "y": 4848},
{"claim": 146, "x": -7808, "y": 19136},
{"claim": 147, "x": -944, "y": 12288},
{"claim": 148, "x": -16992, "y": 24752},
{"claim": 149, "x": 8528, "y": -7776},
{"claim": 150, "x": -26656, "y": -28720},
{"claim": 151, "x": 14000, "y": -4304},
{"claim": 152, "x": -28656, "y": 6976},
{"claim": 153, "x": -4864, "y": -20300},
{"claim": 154, "x": -22780, "y": -26608},
{"claim": 155, "x": -2656, "y": -1408},
{"claim": 156, "x": -24760, "y": 28900},
{"claim": 157, "x": -12520, "y": 4360},
{"claim": 158, "x": -5700, "y": -12032},
{"claim": 159, "x": 20832, "y": -14784},
{"claim": 160, "x": 10080, "y": -20320},
{"claim": 161, "x": -27600, "y": 22992},
{"claim": 162, "x": -73260, "y": 20672},
{"claim": 163, "x": -192, "y": 28320},
{"claim": 164, "x": -1152, "y": -9680},
{"claim": 165, "x": 16576, "y": 5296},
{"claim": 166, "x": 7280, "y": 5664},
{"claim": 167, "x": 18832, "y": 17504},
{"claim": 168, "x": 5888, "y": -28768},
{"claim": 169, "x": -12944, "y": 16160},
{"claim": 170, "x": 13888, "y": -16432},
{"claim": 171, "x": 384, "y": -8512},
{"claim": 172, "x": 27056, "y": 24928},
{"claim": 173, "x": -11376, "y": -28112},
{"claim": 174, "x": 20144, "y": 23936},
{"claim": 175, "x": 24624, "y": 3200},
{"claim": 176, "x": -24848, "y": -21488},
{"claim": 177, "x": 864, "y": -28352},
{"claim": 178, "x": 992, "y": 8656},
{"claim": 179, "x": 17924, "y": -1392},
{"claim": 180, "x": 11584, "y": -16864},
{"claim": 181, "x": 26854, "y": 16432},
{"claim": 182, "x": 12512, "y": 3408},
{"claim": 183, "x": -7500, "y": -13560},
{"claim": 184, "x": 19728, "y": 5338},
{"claim": 185, "x": 7920, "y": 13700},
{"claim": 186, "x": -14416, "y": 2128},
{"claim": 187, "x": 22352, "y": 26528},
{"claim": 188, "x": 19584, "y": -24192},
{"claim": 189, "x": 26816, "y": 28592},
{"claim": 190, "x": -20032, "y": 27600},
{"claim": 191, "x": -6000, "y": 15120},
{"claim": 192, "x": -6192, "y": 80},
{"claim": 193, "x": 13296, "y": 4064},
{"claim": 194, "x": -7500, "y": -1500},
{"claim": 195, "x": 14416, "y": 16928},
{"claim": 196, "x": -11008, "y": -17344},
{"claim": 197, "x": -1790, "y": 6416},
{"claim": 198, "x": 25216, "y": -22720},
{"claim": 199, "x": -25664, "y": 9584},
{"claim": 200, "x": 5984, "y": -9232}
    ]
}

@bot.event
async def on_ready():
    print(f"Bot aktif: {bot.user}")

@bot.command()
async def near(ctx, world: str, x: int, y: int):
    world = world.lower()

    if world not in worlds:
        await ctx.send("‚ùå B√∂yle bir d√ºnya yok.")
        return

    closest_claim = None
    closest_distance = float("inf")

    for claim in worlds[world]:
        dx = claim["x"] - x
        dy = claim["y"] - y
        distance = math.sqrt(dx * dx + dy * dy)

        if distance < closest_distance:
            closest_distance = distance
            closest_claim = claim

    if closest_claim:
        await ctx.send(
            f"üåç D√ºnya: **{world}**\n"
            f"üìç En Yakƒ±n Claim: **{closest_claim['claim']}**\n"
            f"üìå Claim Koordinatƒ±: X {closest_claim['x']} | Y {closest_claim['y']}\n"
            f"üìè Mesafe: {round(closest_distance)} blok"
        )
    else:
        await ctx.send("Claim bulunamadƒ±.")

bot.run(TOKEN)
